<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>C√¢u h·ªèi</title>

<style>
body {
  margin: 0;
  font-family: sans-serif;
  background: black;
  color: white;
  overflow: hidden;
}

canvas {
  position: fixed;
  inset: 0;
}

.box {
  position: relative;
  z-index: 2;
  width: 320px;
  margin: 120px auto;
  padding: 20px;
  background: rgba(0,0,0,0.7);
  border-radius: 12px;
  text-align: center;
}

input {
  width: 100%;
  padding: 8px;
  margin-bottom: 10px;
  border-radius: 6px;
  border: none;
}

button {
  width: 100%;
  padding: 10px;
  margin: 6px 0;
  border-radius: 20px;
  border: none;
  cursor: pointer;
}

.answer-btn:disabled {
  opacity: 0.4;
  pointer-events: none;
}
</style>
</head>

<body>

<canvas id="stars"></canvas>
 <div class="name-box">
  <input
    type="text"
    id="nameInput"
    placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n..."
  >
  <button onclick="saveName()">X√°c nh·∫≠n</button>
</div>

<div class="question-box">
  <h2>B·∫°n nghƒ© sao v·ªÅ m·ªëi quan h·ªá c·ªßa 2 ch√∫ng ta?</h2>

  <button class="answer" disabled onclick="chooseAnswer('a1.html','A')">
    ‚≠ê Ch·ªâ l√† b·∫°n b√¨nh th∆∞·ªùng th√¥i?
  </button>

  <button class="answer" disabled onclick="chooseAnswer('a2.html','B')">
    üíñ B·∫°n nghƒ© t·ªõ th√≠ch b·∫°n kh√¥ng?
  </button>

  <button class="answer" disabled onclick="chooseAnswer('a3.html','C')">
    ü§ù BFF, c·ªët x∆∞∆°ng m√°u?
  </button>
</div>‚Äì huynh ƒë·ªá
  </button>
</div>

<script>
/* ===== GOOGLE FORM (ƒê√É ƒêI·ªÄN) ===== */
const FORM_URL =
  "https://docs.google.com/forms/d/e/1FAIpQLSdX53A-IHszcg-A8ogaHCeEZyz1I9KwcqeNR9RZCtWSEaZ7Zw/formResponse";

/* ===== KH√ìA / M·ªû ƒê√ÅP √ÅN ===== */
function lockAnswers() {
  document.querySelectorAll(".answer-btn").forEach(btn => {
    btn.disabled = true;
  });
}

function unlockAnswers() {
  document.querySelectorAll(".answer-btn").forEach(btn => {
    btn.disabled = false;
  });
}

/* ===== LOAD TRANG ===== */
window.addEventListener("DOMContentLoaded", () => {
  localStorage.removeItem("userName"); // ‚¨Ö D√íNG C·∫¶N TH√äM
  lockAnswers();
});

/* ===== L∆ØU T√äN ===== */
function saveName() {
  const name = document.getElementById("nameInput").value.trim();
  if (!name) return;

  localStorage.setItem("userName", name);
  unlockAnswers();
}

/* ===== CH·ªåN ƒê√ÅP √ÅN ===== */
function chooseAnswer(page, answer) {
  const name = localStorage.getItem("userName");
  if (!name) return;

  const data = new URLSearchParams();
  data.append("entry.1397404752", name);    // T√äN
  data.append("entry.1575105345", answer); // ƒê√ÅP √ÅN

  fetch(FORM_URL, {
    method: "POST",
    mode: "no-cors",
    body: data
  });

  location.href = page;
}
</script>

<script>
/* ===== BACKGROUND SAO ===== */
const canvas = document.getElementById("stars");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
resize();
addEventListener("resize", resize);

const stars = Array.from({length:100}, () => ({
  x: Math.random()*canvas.width,
  y: Math.random()*canvas.height,
  r: Math.random()*1.5 + 0.5,
  s: Math.random()*0.5 + 0.2
}));

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = "white";

  stars.forEach(star=>{
    star.y += star.s;
    if(star.y > canvas.height){
      star.y = 0;
      star.x = Math.random()*canvas.width;
    }
    ctx.beginPath();
    ctx.arc(star.x, star.y, star.r, 0, Math.PI*2);
    ctx.fill();
  });

  requestAnimationFrame(animate);
}
animate();
</script>

</body>
</html>
<script>
function saveName() {
  const name = document.getElementById("nameInput").value.trim();
  if (!name) {
    alert("Nh·∫≠p t√™n tr∆∞·ªõc ƒë√£ üòë");
    return;
  }

  localStorage.setItem("username", name);

  document.querySelectorAll(".answer").forEach(btn => {
    btn.disabled = false;
  });
}
    </script>
