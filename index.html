<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>CÃ¢u há»i</title>

<style>
body {
  margin: 0;
  font-family: sans-serif;
  background: black;
  color: white;
  overflow: hidden;
}

canvas {
  position: fixed;
  inset: 0;
}

.box {
  position: relative;
  z-index: 2;
  width: 320px;
  margin: 120px auto;
  padding: 20px;
  background: rgba(0,0,0,0.7);
  border-radius: 12px;
  text-align: center;
}

input {
  width: 100%;
  padding: 8px;
  margin-bottom: 10px;
  border-radius: 6px;
  border: none;
}

button {
  width: 100%;
  padding: 10px;
  margin: 6px 0;
  border-radius: 20px;
  border: none;
  cursor: pointer;
}

.answer-btn:disabled {
  opacity: 0.4;
  pointer-events: none;
}
</style>
</head>

<body>

<canvas id="stars"></canvas>

<div class="box">
  <h3>ğŸŒŒ Báº¡n tÃªn lÃ  gÃ¬?</h3>
  <input id="nameInput" placeholder="Nháº­p tÃªn cá»§a báº¡n">
  <button onclick="saveName()">XÃ¡c nháº­n tÃªn</button>

  <hr>

  <h3>â“ Báº¡n nghÄ© sao vá» má»‘i quan há»‡ cá»§a 2 chÃºng ta?</h3>

  <button class="answer-btn"
    onclick="chooseAnswer('a1.html','Chá»‰ lÃ  báº¡n bÃ¬nh thÆ°á»ng')">
    ğŸŒŸ Chá»‰ lÃ  báº¡n bÃ¬nh thÆ°á»ng thÃ´i ğŸ˜
  </button>

  <button class="answer-btn"
    onclick="chooseAnswer('a2_q0.html','Báº¡n nghÄ© tÃ´i thÃ­ch báº¡n khÃ´ng?')">
    ğŸ’– Báº¡n nghÄ© tÃ´i thÃ­ch báº¡n khÃ´ng?
  </button>

  <button class="answer-btn"
    onclick="chooseAnswer('a3_q0.html','BFF')">
    ğŸŒ™ BFF â€“ huynh Ä‘á»‡
  </button>
</div>

<script>
/* ===== GOOGLE FORM (ÄÃƒ ÄIá»€N) ===== */
const FORM_URL =
  "https://docs.google.com/forms/d/e/1FAIpQLSdX53A-IHszcg-A8ogaHCeEZyz1I9KwcqeNR9RZCtWSEaZ7Zw/formResponse";

/* ===== KHÃ“A / Má» ÄÃP ÃN ===== */
function lockAnswers() {
  document.querySelectorAll(".answer-btn").forEach(btn => {
    btn.disabled = true;
  });
}

function unlockAnswers() {
  document.querySelectorAll(".answer-btn").forEach(btn => {
    btn.disabled = false;
  });
}

/* ===== LOAD TRANG ===== */
window.addEventListener("DOMContentLoaded", () => {
  lockAnswers();
  if (localStorage.getItem("userName")) {
    unlockAnswers();
  }
});

/* ===== LÆ¯U TÃŠN ===== */
function saveName() {
  const name = document.getElementById("nameInput").value.trim();
  if (!name) return;

  localStorage.setItem("userName", name);
  unlockAnswers();
}

/* ===== CHá»ŒN ÄÃP ÃN ===== */
function chooseAnswer(page, answer) {
  const name = localStorage.getItem("userName");
  if (!name) return;

  const data = new URLSearchParams();
  data.append("entry.1397404752", name);    // TÃŠN
  data.append("entry.1575105345", answer); // ÄÃP ÃN

  fetch(FORM_URL, {
    method: "POST",
    mode: "no-cors",
    body: data
  });

  location.href = page;
}
</script>

<script>
/* ===== BACKGROUND SAO ===== */
const canvas = document.getElementById("stars");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
resize();
addEventListener("resize", resize);

const stars = Array.from({length:100}, () => ({
  x: Math.random()*canvas.width,
  y: Math.random()*canvas.height,
  r: Math.random()*1.5 + 0.5,
  s: Math.random()*0.5 + 0.2
}));

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = "white";

  stars.forEach(star=>{
    star.y += star.s;
    if(star.y > canvas.height){
      star.y = 0;
      star.x = Math.random()*canvas.width;
    }
    ctx.beginPath();
    ctx.arc(star.x, star.y, star.r, 0, Math.PI*2);
    ctx.fill();
  });

  requestAnimationFrame(animate);
}
animate();
</script>

</body>
</html>
