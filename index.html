<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>CÃ¢u há»i</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: black;
    color: white;
    overflow: hidden;
  }

  canvas {
    position: fixed;
    top: 0;
    left: 0;
    z-index: -1;
  }

  .box {
    max-width: 420px;
    margin: 120px auto;
    padding: 25px;
    background: rgba(0,0,0,0.7);
    border-radius: 12px;
    text-align: center;
  }

  input {
    width: 90%;
    padding: 10px;
    border-radius: 8px;
    border: none;
    margin-bottom: 10px;
  }

  button {
    width: 100%;
    margin-top: 10px;
    padding: 12px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    font-size: 15px;
  }

  button.answer:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }
</style>
</head>

<body>

<canvas id="stars"></canvas>

<div class="box">
  <h2>ğŸŒŒ Báº¡n tÃªn lÃ  gÃ¬?</h2>

  <input id="nameInput" placeholder="Nháº­p tÃªn cá»§a báº¡n...">
  <button onclick="saveName()">âœ… XÃ¡c nháº­n tÃªn</button>

  <h3 style="margin-top:20px;">â“ Báº¡n nghÄ© sao vá» má»‘i quan há»‡ cá»§a 2 chÃºng ta?</h3>

  <button class="answer" onclick="chooseAnswer('a1.html','Chá»‰ lÃ  báº¡n')">
    ğŸŒŸ Chá»‰ lÃ  báº¡n bÃ¬nh thÆ°á»ng 
  </button>

  <button class="answer" onclick="chooseAnswer('a2_q0.html','CÃ³ cáº£m tÃ¬nh')">
    ğŸ’– CÃ³ cáº£m tÃ¬nh 
  </button>

  <button class="answer" onclick="chooseAnswer('a3_q0.html','Báº¡n thÃ¢n')">
    ğŸŒ™ cá»‘t, cá»‘t thÃ©p
  </button>
  <h4> EDITOR BY QUOCBAO</h4>
</div>

<script>
/* ================== GOOGLE FORM ================== */
const FORM_URL =
  "https://docs.google.com/forms/d/e/1FAIpQLSdX53A-IHszcg-A8ogaHCeEZyz1I9KwcqeNR9RZCtWSEaZ7Zw/formResponse";

const ENTRY_NAME = "entry.1397404752";
const ENTRY_ANSWER = "entry.1575105345";

/* ================== KHOÃ / Má» ================== */
function lockAnswers() {
  document.querySelectorAll(".answer").forEach(btn => {
    btn.disabled = true;
  });
}

function unlockAnswers() {
  document.querySelectorAll(".answer").forEach(btn => {
    btn.disabled = false;
  });
}

/* ================== LOAD TRANG ================== */
window.addEventListener("DOMContentLoaded", () => {
  lockAnswers();                 // ğŸ‘‰ luÃ´n khoÃ¡ khi vÃ o
  localStorage.removeItem("userName"); // ğŸ‘‰ reset má»—i láº§n vÃ o
});

/* ================== LÆ¯U TÃŠN ================== */
function saveName() {
  const name = document.getElementById("nameInput").value.trim();

  if (!name) {
    alert("âš ï¸ Báº¡n pháº£i nháº­p tÃªn trÆ°á»›c!");
    return;
  }

  localStorage.setItem("userName", name);
  unlockAnswers();
  alert("âœ… ÄÃ£ lÆ°u tÃªn: " + name);
}

/* ================== CHá»ŒN ÄÃP ÃN ================== */
function chooseAnswer(page, answer) {
  const name = localStorage.getItem("userName");

  if (!name) {
    alert("âš ï¸ Vui lÃ²ng nháº­p vÃ  xÃ¡c nháº­n tÃªn trÆ°á»›c!");
    return;
  }

  const data = new FormData();
  data.append(ENTRY_NAME, name);
  data.append(ENTRY_ANSWER, answer);

  fetch(FORM_URL, {
    method: "POST",
    mode: "no-cors",
    body: data
  });

  setTimeout(() => {
    location.href = page;
  }, 300);
}
</script>

<script>
/* ================== CANVAS BACKGROUND ================== */
const canvas = document.getElementById("stars");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
resize();
addEventListener("resize", resize);

const stars = Array.from({ length: 120 }, () => ({
  x: Math.random() * canvas.width,
  y: Math.random() * canvas.height,
  r: Math.random() * 1.5 + 0.5,
  s: Math.random() * 0.6 + 0.2
}));

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = "white";

  stars.forEach(star => {
    star.y += star.s;
    if (star.y > canvas.height) {
      star.y = 0;
      star.x = Math.random() * canvas.width;
    }
    ctx.beginPath();
    ctx.arc(star.x, star.y, star.r, 0, Math.PI * 2);
    ctx.fill();
  });

  requestAnimationFrame(animate);
}
animate();
</script>

</body>
  </html>
